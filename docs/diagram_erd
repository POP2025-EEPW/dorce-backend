// Use DBML to define your database structure
// Docs: https://dbml.dbdiagram.io/docs

Table users {
  id UUID [primary key]
  username varchar
  password varchar
  authToken varchar 
  roles smallint[]
}

Table catalogs {
  id UUID [primary key]
  description varchar
  title varchar
  issued date
  modified date
  parent_id uuid
}

Table datasets {
  id UUID
  title varchar
  description varchar
  quality_controllable boolean
  owner_id UUID
  schema_id UUID
}

Table catalogs_datasets {
  catalog_id UUID [ref: - catalogs.id]
  datasets_id UUID [ref: - datasets.id]
}

Table schemas {
  id UUID [primary key]
}

Table comments {
  id UUID [primary key]
  content varchar
  dataset_id UUID
}

// Ref user_posts: posts.user_id > users.id // many-to-one

// Ref: users.id < follows.following_user_id

// Ref: users.id < follows.followed_user_id

// Ref: datasets.owner_id > users.id

// Ref: datasets.schema_id > schemas.id

// Ref: comments.dataset_id > datasets.id